LIBS = @LIBS@
CC = @CC@
CFLAGS = @CFLAGS@
CPPFLAGS = @CPPFLAGS@
prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
mandir = @mandir@
BINARY = bwm-ng
TARGET = src/$(BINARY)
STRIP = @STRIP@

all:	bwm-ng
	
bwm-ng:
	@( cd src ; $(MAKE) bwm-ng )
	${STRIP}

install: all
	@(if [ ! -d $(bindir) ]; then mkdir -p $(bindir); fi )
	cp -p ${TARGET} $(bindir)/$(BINARY)
	@(if [ ! -d $(mandir)/man1 ]; then mkdir -p $(mandir)/man1; fi)
	cp -p bwm-ng.1 $(mandir)/man1/bwm-ng.1
	@(if [ `uname` = "Linux" ]; then mandb $(mandir); fi)

clean:
	@( cd src ; $(MAKE) clean )
	-rm -f *~ *.o ${TARGET}

real-clean: clean
	-rm -f config.h Makefile src/Makefile config.log
	-rm -fr autom4te.cache
	-rm -f configure config.status

uninstall:
	-rm -f $(bindir)/$(BINARY)
	-rm -f $(mandir)/man1/bwm-ng.1
	@(if [ `uname` = "Linux" ]; then mandb $(mandir); fi)
